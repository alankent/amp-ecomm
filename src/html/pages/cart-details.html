<!doctype html>
%%include('../partials/copyright.html')
<html âš¡="" lang="en">

<head>
    %%include('../partials/head.html', {
        "pageType": "cart-details"
    })
</head>

<body>
    %%include('../partials/header.html')
    %%include('../partials/menu.html')
    <main id="content" role="main" class="main cart">
        <div class="cart-wrapper">
            <amp-list credentials="include" layout="fill" src="/api/cart-items" [src]="cartItemsList.items">
                <template type="amp-mustache">
                    <section class="cart-products-area">
                    %%include('../partials/cart-items.html', {
                        "removeButton": true
                    })
                    </section>
                    {{^isEmpty}}
                    <section class="cart-sum-area side-panel">
                        <h5>Order Summary</h5>
                        <dl>
                            <dt>Subtotal</dt>
                            <dd>${{subtotal}}</dd>
                            <dt>Shipping</dt>
                            <dd>${{shipping}}</dd>
                            <dt class="total">Total</dt>
                            <dd class="total">${{total}}</dd>
                        </dl>
                        <div class="cart-actions">
                            <a href="checkout.html" class="button button-white">checkout</a>
                        </div>
                    </section>
                    {{/isEmpty}}
                </template>
            </amp-list>
        </div>

        <!-- Put form here -->
        <form id="form-cart-delete" method="POST" target="_top" action-xhr="/api/delete-cart-item"
            on="submit-success: AMP.setState({
                cartItemsList: event.response
            })" novalidate="">
            <input type="hidden" name="productId" value="" [value]="cartItem.productId">
            <input type="hidden" name="color" value="" [value]="cartItem.color">
            <input type="hidden" name="size" value="" [value]="cartItem.size">
        </form>
        <!--
        %%include('../partials/related-products.html')
        -->    
    </main>
    
    %%include('../partials/footer.html', {
        "pageType": "cart-details"
    })
    
    <amp-state id="cartItemsList" src="/api/cart-items">
        <script type="application/json">
        {

        }
        </script>
    </amp-state>

    <amp-state id="cartItem">
        <script type="application/json">
        {

        }
        </script>
    </amp-state>

</body>

</html>