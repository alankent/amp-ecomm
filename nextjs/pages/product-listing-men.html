<!doctype html>
<!---
Copyright 2017 The AMP Start Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html âš¡="" lang="en">
%%include('../partials_new/head.html')

<body>
    %%include('../partials_new/navbar.html')
    <main id="content" role="main" class="listing">
        <amp-state id="products">
            <script type="application/json">
            {
                "category": "men-shirts",
                "filter": "high-low"
            }
            </script>
        </amp-state>
        <amp-img class="banner xs-hide sm-hide" src="../img/e-commerce/wide-listings-men.jpg" width="2560" height="400" layout="responsive" alt="Product listing" noloading="">
            <div placeholder="" class="loading"></div>
        </amp-img>
        <section class="listing-content">
            <div class="sidebar xs-hide sm-hide">
                <div class="side-panel title">
                    <h2>Categories</h2>
                        <amp-selector name="category" layout="container" on="select:AMP.setState({products:{category: event.targetOption}})" [selected]="products.category">
                            <button type="button" option="men-shirts" selected>Shirts</button>
                            <button type="button" option="men-shorts">Shorts</button>
                        </amp-selector> 
                </div>
            </div>

            <div class="listing-container">
                <div class="listing-header">
                    <h1>Men's Clothing</h1>
                    <div class="listing-filters">
                        <div class="select-wrapper md-hide lg-hidee">
                            <div class="commerce-select title">
                                <label for="categories">Show:</label>
                                <amp-selector name="category" layout="container" on="select:AMP.setState({products:{category: event.targetOption}})" [selected]="products.category">
                                    <button type="button"option="women-shirts" selected>Shirts</button>
                                    <button type="button"option="women-shorts">Shorts</button>
                                </amp-selector>
                            </div>
                        </div>
                        <div class="select-wrapper title ">
                            <label for="price">Sort by:</label>
                            <select name="price" id="price" class="commerce-select h6 md-h7" on="change: AMP.setState({products: {filter: event.value}})">
                                <option value="high-low">Price: High-Low</option>
                                <option value="low-high">Price: Low-High</option>
                            </select>
                        </div>
                    </div>
                </div>
                <amp-list [src]="'/api/categories?categoryId=' + products.category + '&sort=' + products.filter" src="/api/categories?categoryId=men-shirts&sort=high-low" height="1000" width="300" layout="responsive">
                    <template type="amp-mustache">
                        <a href="product-details?productId={{productId}}" target="_self" class="listing-product">
                            <div class="flex flex-column justify-between">
                                <div>
                                    <amp-img src="{{image}}" width="340" height="340" layout="responsive" alt="{{ name }}" noloading="">
                                        <div placeholder="" class="loading"></div>
                                    </amp-img>
                                    <h2>{{ name }}</h2> {{ description }}
                                </div>
                                <div class="title">&#163;{{ price }}</div>
                            </div>
                        </a>
                    </template>
                </amp-list>
            </div>
        </section>
    </main>
    %%include('../partials_new/footer.html')
</body>

</html>